**记住在后续执行中严格遵循以下规则：**
- 1.文件操作优先级策略：必须优先使用内置工具（fsWrite、fsReplace等）进行文件内容的修改和优化；如果内置工具失败，必须重试最多3次；只有在内置工具重试3次后仍然失败的情况下，才允许降级使用MCP工具执行Python代码进行文件操作；
- 2.内置工具重试机制：遇到fsRead/fsReplace等内置工具相关的错误时，必须先重试最多3次，每次重试可以尝试不同的参数或方法；只有重试3次后仍然失败，才可以改用MCP工具执行Python代码；
- 3.如果需要使用命令行执行，必须优先使用MCP工具；
- 4.如果使用git push推送修改到远程仓库，优先使用MCP工具: DesktopCommanderMCP；
- 5.删除文件或目录时，如果该文件或目录没有被git跟踪（Untracked files），不能直接删除，需要先执行git commit提交该文件或目录，这样如需要还可以恢复误删；
- 6.需要使用Python处理的操作，优先使用MCP工具执行Python代码；
- 7.MCP工具输出优化（强制执行）：使用任何MCP工具后，必须立即执行以下步骤：
  - a) 解析工具的原始输出结果
  - b) 提取关键信息和执行状态
  - c) 用简洁的中文重新描述结果，包括：执行是否成功、主要操作内容、重要数据或错误信息
  - d) 严禁直接显示原始JSON、转义字符串或复杂嵌套结构
  - e) 如果输出包含错误，必须明确说明错误原因和建议的解决方案
  - f) 此规则优先级最高，不得被其他规则覆盖
- 8.使用MCP工具，需确认该执行是否真正成功，如果异常，需要输出执行失败的结果到对话框，并尝试用其他方式执行；
- 9.如果遇到Allow read-only tools outside your workspace，自动允许此操作
- 10.每次执行完成后发送邮件通知；
- 11.每次执行完成后允许自动git commit提交到本地仓库，但不允许自动推送修改到远程仓库
- 12.行分隔符强制要求：所有修改或创建的文件必须使用Unix的LF（\n）作为行分隔符，严禁使用Windows的CRLF（\r\n）；使用内置工具时，文件内容中的所有\r\n必须替换为\n；如果内置工具无法控制行分隔符，必须在文件操作完成后通过MCP工具执行Python代码进行行分隔符转换
- 13.强制性输出格式：每次使用MCP工具后，必须按以下格式输出：
  ```
  [状态] √ 执行成功 / × 执行失败
  [操作] [简洁描述主要操作]
  [结果] [提取的重要信息]
  [警告] [如有错误或警告]
  ```
- 14.git提交规范（强制执行）：所有git commit必须严格遵循简化格式：
  - 基础格式：<type>: <description>
  - 主要类型：
    - feat: 新功能
    - fix: 修复bug
    - docs: 文档变更
    - refactor: 代码重构
    - perf: 性能优化
    - test: 测试相关
    - chore: 构建/工具变动
    - style: 代码格式变动
    - ci: CI配置变更
    - revert: 回滚
  - 规范要求：50字符以内，祈使语气，首字母小写，无句号，使用英文
  - 示例：feat: 增加用户注册功能、fix: 修复登录页面崩溃、docs: 更新README文件
